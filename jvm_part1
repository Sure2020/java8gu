1.java平台无关怎么实现的
1-通过 jvm 虽然 Java 是平台无关的，但是 jvm 是平台有关的，jvm 作为一个桥梁，屏蔽了 Java 和平台之间的差异
2-Java 语言规范 Java 语言规范规定了比如说整形的大小,固定占4个字节，不像c++那样会随平台而变化。

3-Java 中布尔类型的长度也是不固定的，比如单个布尔类型变量，它占位是 32 位，如果是布尔数组，则每个元素占位 8 位。


2.java一定平台无关吗，不一定
AOT，提前编译成平台相关的机器码，而不是运行时边解释边运行。可以提高jvm启动时间，提高运行效率。

native image，GraalVM允许将Java程序编译成"原生镜像"，可以不依赖于JVM，直接运行在操作系统上。


那为啥java要走回头路，因为在serviceless盛行的时代，平台无关没那么重要了，因为都是容器部署。而缩短服务的启动时间显得尤为重要。

3. JIT技术。java代码大多数情况下是将字节码边解释成机器码，边执行，效率低一些。JIT则是将热点代码编译成机器码，并缓存，不用每次都解释一遍。

编译优化，有逃逸分析，比如作用域在方法内的。就把对象在栈上分配。

栈为什么比堆快，首先栈是程序运行前就分配好的，不像堆那样是动态申请的。且栈的内存地址是连续的，堆则未必。

4.怎么防止反编译，将java程序隔离，让别人接触不到你的class文件。或者将class文件加密，提高反编译难度。或者代码混淆，将代码替换成等价但可读性差的格式。